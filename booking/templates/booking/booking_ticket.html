{% extends "booking/base.html" %}
{% load static %}

{% block content %}

<!-- Load CSS -->
<link rel="stylesheet" href="{% static 'css/booking_ticket.css' %}">

{% for booking in bookings %}
<div class="ticket">
    <!-- Left panel -->
  <div class="left">
    <div><strong>Passenger:</strong> {{ booking.user.get_full_name|default:booking.user.username }}</div>
    <div><strong>Package:</strong> {{ booking.package.title }}</div>



    <div class="company">TripTrek</div>
    <h1>Boarding Pass</h1>

    <div class="info">
      <div><strong>Passenger:</strong> {{ booking.user.get_full_name|default:booking.user.username }}</div>
      <div><strong>Package:</strong> {{ booking.package.title }}</div>
      <div><strong>Travel Dates:</strong> {{ booking.package.start_date }} to {{ booking.package.end_date }}</div>
      <div><strong>Travelers:</strong> {{ booking.travelers }}</div>
      <div><strong>Booking ID:</strong> #{{ booking.id }}</div>

      <div class="divider"></div>

      <div>
        <div><strong>Amount Paid:</strong> â‚¹{{ booking.total_amount }}</div>
        <div><strong>Booking Time:</strong> {{ booking.booking_time }}</div>
      </div>
    </div>
  </div>

  <!-- Right panel -->
  <div class="right" style="background-image: url('{% static 'css/images/bannertravel.jpeg' %}');">
    <div class="small-text">TRIPT R K</div>
    <div class="destination">{{ booking.package.destination.name }}</div>
    <div class="small-text">{{ booking.package.destination.country }}</div>

    {% if qr_uri %}
      <img src="{{ qr_uri }}" alt="QR code" class="qr">
    {% endif %}

    <div class="footer-text">
      Present this ticket at check-in. QR code will be validated.
    </div>

    <a href="{% url 'booking_list' %}" class="btn btn-light btn-back">Back to My Bookings</a>
  </div>

</div>
{% endfor %}


<style>
  /* =========================
  BOOKING TICKET
========================= */
.ticket {
    max-width: 900px;
    margin: 40px auto;
    display: flex;
    border: 2px solid #222;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    font-family: Arial, sans-serif;
}

/* Left panel */
.ticket .left {
    width: 65%;
    background: #f7f7f7;
    padding: 30px;
}

.ticket .left .company {
    font-weight: 700;
    font-size: 22px;
    color: #333;
}

.ticket .left h1 {
    margin-top: 10px;
    font-size: 24px;
}

.ticket .left .info {
    margin-top: 20px;
}

.ticket .left .divider {
    margin: 20px 0;
    border-top: 1px dashed #ccc;
}

/* Right panel with background image and overlay */
.ticket .right {
    width: 35%;
    color: #fff;
    text-align: center;
    padding: 30px;
    position: relative;
    border-left: 2px solid #222;
    background-size: cover;
    background-position: center;
}

.ticket .right::before {
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.5); /* overlay for readability */
    z-index: 0;
}

.ticket .right > * {
    position: relative;
    z-index: 1;
}

.ticket .right .small-text {
    font-size: 12px;
    opacity: 0.8;
}

.ticket .right .destination {
    font-size: 20px;
    font-weight: 700;
    margin: 10px 0;
}

.ticket .right img.qr {
    margin-top: 20px;
    border: 2px solid #fff;
    border-radius: 8px;
}

.ticket .right .footer-text {
    font-size: 10px;
    margin-top: 20px;
    opacity: 0.8;
}

.ticket .right .btn-back {
    margin-top: 15px;
    color: #000;
    font-weight: 600;
}

</style>


{% endblock %}
